<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Unos adresa</title>
        <h:outputScript library="js" name="websocket.js"/>
    </h:head>
    <h:body>
         <h:link outcome="index.xhtml" value="Početna" />
         <h:form>
             <h:outputLabel value="Nova adresa" for="novaAdresa"/>
             <h:inputText id="novaAdresa" value="#{meteoPrognoza.novaAdresa}"/>
             <h:commandButton value="Dodaj adresu" action="#{meteoPrognoza.dodajAdresu()}">
                 <f:ajax execute="novaAdresa" render="adrese" />
             </h:commandButton>
             <br/>
             <h:selectOneListbox id="adrese" value="#{meteoPrognoza.odabranaAdresa}">
                 <f:selectItems value="#{meteoPrognoza.adrese}"/>
             </h:selectOneListbox>
             <h:commandButton value="Briši adresu" action="#{meteoPrognoza.obrisiAdresu()}">
                 <f:ajax execute="adrese" render="adrese" />
             </h:commandButton>
             <br/>
             <h:commandButton value="Osvježi meteo podatke" action="#{meteoPrognoza.osvjeziMeteoPodatke()}">
                 <f:ajax render="podaci" />
             </h:commandButton>
             <br/>
             <h:dataTable id="podaci" value="#{meteoPrognoza.meteoPodaci}" var="mp">
                 <h:column>
                     <f:facet name="header">Temp C</f:facet>
                     #{mp.temperatureValue}
                 </h:column>
                 <h:column>
                     <f:facet name="header">Vlaga</f:facet>
                     #{mp.humidityValue}
                 </h:column>
                 <h:column>
                     <f:facet name="header">Tlak</f:facet>
                     #{mp.pressureValue}
                 </h:column>
             </h:dataTable>
         </h:form>
    </h:body>
</html>

